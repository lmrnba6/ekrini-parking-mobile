<ion-header>

  <ion-navbar>
    <ion-title>{{ 'pages.item.header-title' | translate }}</ion-title>
    <!--<ion-buttons start>-->
      <!--<button ion-button (click)="cancel()">-->
        <!--<span color="primary" showWhen="ios">-->
          <!--{{ 'CANCEL_BUTTON' | translate }}-->
        <!--</span>-->
        <!--<ion-icon name="md-close" showWhen="android,windows"></ion-icon>-->
      <!--</button>-->
    <!--</ion-buttons>-->
    <!--<ion-buttons end>-->
      <!--<button ion-button (click)="done()" [disabled]="!isReadyToSave" strong>-->
        <!--<span color="primary" showWhen="ios">-->
          <!--{{ 'DONE_BUTTON' | translate }}-->
        <!--</span>-->
        <!--<ion-icon name="md-checkmark" showWhen="core,android,windows"></ion-icon>-->
      <!--</button>-->
    <!--</ion-buttons>-->
  </ion-navbar>

</ion-header>


<ion-content>
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="done()" novalidate>
    <input type="file" #fileInput style="visibility: hidden; height: 0px" name="files[]" (change)="processWebImage($event)" />
    <div class="profile-image-wrapper">
      <div class="profile-image-placeholder" (click)="getPicture()" *ngIf="!this.form.controls.profilePic.value">
        <ion-icon name="camera"></ion-icon>
        <div>
          {{'pages.item.chooseImage' | translate}}
        </div>
      </div>
      <div class="profile-image" [style.backgroundImage]="getProfileImageStyle()" (click)="getPicture()" *ngIf="this.form.controls.profilePic.value"></div>
    </div>
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{'pages.item.address' | translate}}</ion-label>
            <ion-input formControlName="address" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
          <div *ngIf="form.controls.address.invalid && form.controls.address.dirty " text-center margin-top>
            <ion-label align-items-center color="danger">This field is required</ion-label>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.city' | translate}}</ion-label>
            <ion-input formControlName="city" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
          <div *ngIf="form.controls.city.invalid && form.controls.city.dirty " text-center margin-top>
            <ion-label align-items-center color="danger">This field is required</ion-label>
          </div>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.province' | translate}}</ion-label>
            <ion-input formControlName="province" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
          <div *ngIf="form.controls.province.invalid && form.controls.province.dirty " text-center margin-top>
            <ion-label align-items-center color="danger">This field is required</ion-label>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.zip' | translate}}</ion-label>
            <ion-input formControlName="zip" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
          <div *ngIf="form.controls.zip.invalid && form.controls.zip.dirty " text-center margin-top>
            <ion-label align-items-center color="danger">This field is required</ion-label>
          </div>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.number' | translate}}</ion-label>
            <ion-input formControlName="number" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.price' | translate}}</ion-label>
            <ion-input formControlName="price" type="number" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
          <div *ngIf="form.controls.price.invalid && form.controls.price.dirty " text-center margin-top>
            <ion-label align-items-center color="danger">This field is required</ion-label>
          </div>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.size' | translate}}</ion-label>
            <ion-input formControlName="size" type="text" autocomplete="false" class="form-control"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{'pages.item.date' | translate}}</ion-label>
            <ion-datetime formControlName="date" displayFormat="MM/DD/YYYY" autocomplete="false" class="form-control"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.start-time' | translate}}</ion-label>
            <ion-datetime formControlName="startTime" displayFormat="hh:mm" autocomplete="false" class="form-control"></ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>{{'pages.item.end-time' | translate}}</ion-label>
            <ion-datetime formControlName="endTime" displayFormat="hh:mm" autocomplete="false" class="form-control"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label>{{'pages.item.recurrence' | translate}}</ion-label>
            <ion-select formControlName="recurrence" [ngModel]="form.value.recurrence" class="form-control">
              <ion-option *ngFor="let item of recurrence" [value]="item">{{'pages.item.'+item.toLowerCase() | translate}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{'pages.item.comment' | translate}}</ion-label>
            <ion-textarea formControlName="comment"  autocomplete="false" class="form-control"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
<ion-footer>
  <ion-buttons>
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <button (click)="cancel()" ion-button full block large color="danger">
            <ion-icon name="close"></ion-icon>&nbsp;<span >{{ 'buttons.cancel' | translate }}</span>
          </button>
        </ion-col>
        <ion-col col-6>
          <button [disabled]="form.invalid" (click)="done()"  type="submit" ion-button full block large color="secondary">
            <ion-icon name="checkmark"></ion-icon>&nbsp;<span >{{ 'buttons.save' | translate }}</span>
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-buttons>
</ion-footer>
